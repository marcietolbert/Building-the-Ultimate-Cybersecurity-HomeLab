# SEC, SOC, Malware Analysis VM Setup
Welcome to **Lab 00**, the first in the **Building the Ultimate Cybersecurity HomeLab** series. In this guided session, I will walk you through the steps to download and configure six distinct virtual machines that will be hosted on VMware Workstation Pro. Additionally, I will provide clear instructions on how to download and configure VMware Workstation Pro.

Before we begin the configuration process, let's first examine the logical structure of our lab environment. This visual representation will help you understand how the devices in this lab interact with one another. We will use Lucidchart, a user-friendly online diagramming tool, to create this logical diagram. 

Let’s get started!

## Logical Diagram



## Mandatory System Requirements
The mandatory system requirements for your host machine are as follows: 
- **RAM:** 32 GB (gigabytes) of RAM or **higher**
- **CPU:** 64-Bit 2.0+ GHz processor or **higher**
- **Disk:** 500 GB of SSD or **higher**

## Lab Environment
- **VMware Workstation Pro** (Hypervisor)
- **Kali Linux** (Attack Machine)
- **Metasploitable** (Vulnerable Target)
- **Ubuntu Client** (Workstation)
- **Ubuntu Server/Wazuh** (SIEM)
- **Security Onion** (SIEM)
- **FLARE VM/Win10** (Reverse Engineering/Sandboxed Malware Analysis Machine)

## VMware Workstation Pro
To kick off the lab, we will first install and configure VMware Workstation Pro, an application that enables us to create and manage multiple virtual machines on a single physical computer.

### Setup
- Go to the <a href="https://www.vmware.com/products/desktop-hypervisor/workstation-and-fusion">VMware Workstation Pro</a> download page and click *DOWNLOAD FUSION OR WORKSTATION*.
<img width="639" alt="4d0oQh7S3j" src="https://github.com/user-attachments/assets/803348d5-6f0b-47d9-9603-b81a5faa5264"/>
<br>
<br>

- A Broadcom account is required to download VMware Workstation Pro. Click the *LOGIN* button in the upper right corner of the page and select *REGISTER* to create an account.
<img width="732" alt="3x2eZNxHSy" src="https://github.com/user-attachments/assets/86744c8f-a5c2-49a9-8f57-5ba6e8b6d448"/>
<br>
<br>

- Complete the registration process.
<br>

- On the **Broadcom Support** page type VMware Workstation Pro into the search bar and press *Enter*.
<img width="485" alt="aOahLVlGu0" src="https://github.com/user-attachments/assets/b57eecbc-548c-462d-91af-726dbb817f40"/>
<br>
<br>

- Click the first link provided in the search results.
<img width="574" alt="DuEF88txIt" src="https://github.com/user-attachments/assets/861b2621-70c3-4348-b5b3-24dbe46f1a23"/>
<br>
<br>

- On the **Download and License VMware Desktop Hypervisor** page scroll down to the **Resolution** section and click the VMware Workstation Pro download link.
<img width="485" alt="Ko0XGIcA50" src="https://github.com/user-attachments/assets/0c1ff92d-64ee-4fa9-8b86-0d72d8f2ca69"/>
<br>
<br>

- On the **Product Downloads** page select the download that corrlates to your host machines operating system, then select the latest version of VMware Workstation Pro to download.
<img width="946" alt="y4qkbIWONE" src="https://github.com/user-attachments/assets/49787bc4-4b5a-4b51-9298-b2a2a7311e59"/>
<br>
<br>
<img width="916" alt="2tdtvg6a5u" src="https://github.com/user-attachments/assets/50cd0729-5b7a-4650-9baa-5f2f6182216b"/>
<br>
<br>

- Click the *Terms and Conditions* link to view the product terms and conditions, then click the checkbox next to *I agree to the Terms and Conditions*. You are now able to click the download button towards the bottom right of the page.
<img width="951" alt="b8p6obhHKN" src="https://github.com/user-attachments/assets/132027d3-698b-4490-81c1-1ec37b9a1749"/>
<br>
<br>

- Complete any remaining prompts to finish downloading.
<br>

- Proceed with installing VMware Workstation Pro to your host machine using all of the default settings.
<img width="371" alt="VMware-workstation-full-17 6 3-24583834_HBubLwhhvV" src="https://github.com/user-attachments/assets/6e4e3843-d1ac-4301-a7ae-b10a1c890b03"/>
<br>
<br>

Now we need to change two of the default virtual network connections listed for VMware Workstation Pro. In the upper left corner click *Edit > Virtual Network Editor*. Once the new pane appears, edit VMnet1 (host-only), VMnet8 (NAT), and the DHCP settings using the following steps:
<br>
<br>

- Click on *Change Settings*.
<img width="598" alt="FanQDiEhgc" src="https://github.com/user-attachments/assets/6d603160-99fa-48d5-811a-2fc3b2191751"/>
<br>
<br>

- Select the NAT (Network Address Translation) connection and change the subnet IP to 10.0.0.0, click *Apply* to submit the change.
<img width="473" alt="k32Vl1h0pt" src="https://github.com/user-attachments/assets/ffe3d5de-737e-43bf-af77-495e4a44e998"/>
<br>
<br>

- Next, click *DHCP Settings* and change the starting IP so that it ends in .10. The next machine added will have an IP address of 10.0.0.11 and each subsequent machine's IP address will increment by one after that. Click *Apply* to submit the change.
<img width="596" alt="ZjwESJw9rp" src="https://github.com/user-attachments/assets/d6c75ddb-6ee4-4215-8439-7a936a2babb8"/>
<br>
<br>
<img width="379" alt="5EkbLi7zsI" src="https://github.com/user-attachments/assets/bee764db-83be-462a-869c-3664aac8d190"/>
<br>
<br>

- Lastly, select the host-only network connection and change the subnet IP for the connection to 172.16.0.0. Click *Apply* to submit the change, then click *Ok* to close the pane.
<img width="596" alt="P7sA84KkOC" src="https://github.com/user-attachments/assets/d2afe255-20c9-4f08-86c7-41ea766848e6"/>
<br>
<br>
  
*For more information on virtual network connection types, refer to the Concept Dive section at the end of this write-up.*

## Kali Linux
Now that we have installed and configured VMware Workstation Pro, let's set up our first virtual machine: Kali Linux. Kali Linux is a Debian-based distribution specifically designed for penetration testing and ethical hacking. This operating system includes a comprehensive suite of pre-installed security tools, making it an ideal choice for simulating real-world cyberattacks and various security scenarios. These tools range from network analyzers to vulnerability scanners, all aimed at helping security professionals identify and address vulnerabilities.

### Setup
Going forward, we need to unzip and install the files we download. If you don't already have it installed, visit <a href="https://www.7-zip.org"/>7-Zip</a>, click *Download*, and choose the .exe file that matches your operating system to install it.
<br>
<br>
<img width="786" alt="OsNvI3ssT9" src="https://github.com/user-attachments/assets/4e4db891-a7df-43d7-b67c-0f750b607ae2"/>
<br>
<br>

- Create a folder named **SecLab** on the host machine's **C:** drive, then create a subfolder named **ISO** to organize all future downloads.
<br>

- Go to the <a href="https://www.kali.org/"/>Kali Linux</a> website and click *Download*.

![FB3M2aKZy3](https://github.com/user-attachments/assets/38e5169b-a935-4e33-9149-1fbf22b6831e)
<br>
<br>

- On the **Choose your Platform** page select *Virtual Machines* to download a pre-configured virtual machine.
<img width="1217" height="513" alt="zzzPOZPPyP" src="https://github.com/user-attachments/assets/0aafef64-ef22-4dac-b182-074486ed01b4" />
<br>
<br>
<br>

- On the **Pre-built Virtual Machines** page, download the virtual machine that is compatible with your hypervisor. Since we have already configured and installed VMware Workstation Pro, you should download the first virtual machine. If you are using a different hypervisor, feel free to choose an alternative option.
<img width="1058" height="596" alt="KJcPBpFj7t" src="https://github.com/user-attachments/assets/bf076a18-1ae1-4207-923b-13a16ca67baf" />
<br>
<br>

- Move the Kali Linux .iso file into the **ISO** subfolder, and extract the file by right-clicking the Kali Linux folder and selecting *Show More > 7-Zip > Extract Here*.
<br>

- Rename the extracted file "Kali Linux".
<img width="724" height="354" alt="QRqS2q3fQO" src="https://github.com/user-attachments/assets/155c2297-c7b6-4313-88cd-eea8d781c16d" />
<br>
<br>

- Open the **Kali Linux** folder and double-click the file with the icon that looks like three sheets of paper to open it in VMware Workstation Pro.
<img width="724" height="354" alt="qlzmilas23" src="https://github.com/user-attachments/assets/eaf68c36-858e-44d7-9ce1-8a26d6e62a37" />
<br>
<br>

- Right-click the virtual machine and rename it “Kali Linux”. Then, right-click on *My Computer*, select *New Folder*, and name this folder **SecLab**. Drag the Kali Linux machine into this folder. The **SecLab** folder will house all of the virtual machines for this lab.
<img width="311" height="125" alt="5qqPw6thVh" src="https://github.com/user-attachments/assets/7814a748-4ecb-450b-8f42-38c01c698e37" />
<br>
<br>

- Click the Kali Linux machine to select it.
<img width="1752" height="960" alt="9N6WIRxX6Q" src="https://github.com/user-attachments/assets/21912ba1-df33-4f97-af77-353fadc65a05" />
<br>
<br>

***Note:*** *In the main pane of this virtual machine, the username and password are listed in the **Description** section.*
<br>
<br>

- Now we need to change some settings for the virtual machine. Click on *Edit virtual machine settings*.
<img width="1752" height="960" alt="yHfI9cOZ6g" src="https://github.com/user-attachments/assets/784f1466-7f27-4fae-973d-5a68688d6534" />
<br>
<br>

- Change the memory to 8 GB while keeping the other default settings, then click *OK*.
<img width="563" height="534" alt="3Q0kZmL68y" src="https://github.com/user-attachments/assets/9efa74e5-f3d7-4752-968b-ddb05fd89519" />
<br>
<br>

- Start the Kali Linux machine by double-clicking its name in the library pane or by clicking the green play button next to *Power on this virtual machine*.
<img width="1752" height="960" alt="PPAS3AUuTx" src="https://github.com/user-attachments/assets/b67faf4d-52ea-4fa0-b6fb-a416793930ef" />
<br>
<br>

- If you get a pop-up that appears click *Ok* and wait for the machine to boot.

- The username and password to log into the machine are "kali:kali". Use these credentials to log in.
<img width="387" height="218" alt="vmware_Ft6dBJqaAF" src="https://github.com/user-attachments/assets/903ffafc-7949-4cde-a679-892859ad7dfc" />
<br>
<br>

Let’s ensure that we can access the external network.
<br>
<br>

- Open a terminal session and ping Goggle by entering the command `ping 8.8.8.8`.
<img width="319" height="105" alt="kJ3wwazfck" src="https://github.com/user-attachments/assets/66d90229-367d-47c2-9089-c37cc7967989" />
<br>
<br>

If there are no lost packets, it means the virtual machines' network traffic successfully reached the external network and a Google server.
<img width="512" height="257" alt="Fez6g8oyr3" src="https://github.com/user-attachments/assets/c2de9f65-6906-4b0a-aa00-0ad16bc57847" />
<br>
<br>

Let's look at the IP address of this machine.

- Enter `ifconfig` into the terminal.
<img width="308" height="71" alt="YJySzGpMuM" src="https://github.com/user-attachments/assets/e950fd89-421b-435a-88af-bd6612bdf9fa" />
<br>
<br>

- If you look at the inet address under the eth0 interface we can see that the machine's IP address is 10.0.0.10. This confirms that the starting range we configured for the DHCP server successfully assigned this machine an address that ends in .10.
<img width="450" height="247" alt="Nd9BiK4UyF" src="https://github.com/user-attachments/assets/3380d3df-3414-46d1-bfb2-5c6cfe74b414" />
<br>
<br>

- Run the following command to refresh and install the newest versions of all packages currently installed on the system:

```
sudo apt update && sudo apt upgrade
``` 
<img width="518" height="162" alt="R09Y7imtb2" src="https://github.com/user-attachments/assets/db60ee65-b432-4f0a-bccd-8878a77c1269" />
<br>
<br>

***Note:*** *Sudo is used to run the command as the superuser, as elevated privileges are needed to update and upgrade the machine. The -y option will automatically respond with "yes" to any prompts that require a yes or no response when the shell executes the command.*

- Power down the machine.

- Take a snapshot of the current state of the machine by right-clicking the virtual machine in the library and clicking *Snapshot > Take Snapshot*. Name the snapshot and add a description before clicking *Take Snapshot* to save.
<img width="260" height="167" alt="FF2jbzFFXK" src="https://github.com/user-attachments/assets/e0cb9eb4-1188-45d8-820a-91ae23670548"/>
<br>
<br>

Now let's reduce the resources allocated to the virtual machine so that multiple VMs can be ran simultaneously. The initial allocation was made to expedite the installation process.

- For the Kali VM, set the number of processors to 1 and the number of cores per processor to 1.
<img width="563" height="534" alt="v0alakm1as" src="https://github.com/user-attachments/assets/58b4a759-8aeb-401e-93da-794b16febf87" />

## Metasploitable
Our next task is to download the Metasploitable 2 virtual machine. First, let’s clarify what Metasploitable 2 is: it is a deliberately vulnerable target machine designed for testing common security vulnerabilities. In our lab environment, it will act as a device that our Kali Linux machine can attack.

### Setup
- Download the Metasploitable 2 virtual machine <a href="https://sourceforge.net/projects/metasploitable">here</a>.
<img width="538" height="367" alt="H0Lpckbkgv" src="https://github.com/user-attachments/assets/9ac838fe-a124-48a9-a5b0-e14865bfd005" />
<br>
<br>

- Extract the file. Move or copy the Metasploitable 2 folder into the *SecLab > ISO* folder we created earlier and rename the folder “Meta”.
<img width="724" height="354" alt="P0yOuzfZKE" src="https://github.com/user-attachments/assets/b6716bc5-80ff-467e-89c1-fd5b176de719" />
<br>
<br>

- Open the **Meta** folder, then double-click the file with the icon that looks like three sheets of paper to open the Metasploitable 2 virtual machine in VMware Workstation Pro.
<img width="724" height="354" alt="2kHTf8J2Dc" src="https://github.com/user-attachments/assets/461246e3-3c1e-49ed-970f-92226f740114" />
<br>
<br>

- Move the virtual machine into the **SecLab** folder and rename the virtual machine “Meta”.
<img width="312" height="137" alt="MdeXL9JQ10" src="https://github.com/user-attachments/assets/56ce0ed8-3e65-4ba4-8e09-b5fa09f90ef3" />
<br>
<br>

***Note:*** *The default username and password for the virtual machine is “msfadmin:msfadmin” and can be found in the **Description** section for the virtual machine just as it was for the Kali Linux machine.*

- Click on *Edit virtual machine settings*.
<img width="223" height="493" alt="1u6TaZajx8" src="https://github.com/user-attachments/assets/3269c20b-1867-4949-9d22-a5ce47d50855" />
<br>
<br>

- Adjust the memory to 2 GB and set the number of processors to 2, then click *Ok* to confirm. 
<img width="563" height="534" alt="ntHBoa3xSk" src="https://github.com/user-attachments/assets/a914288e-b6a1-4df3-a474-d8cfc0019328" />
<br>
<br>
<img width="563" height="534" alt="NGzHMrxtsp" src="https://github.com/user-attachments/assets/830c7e59-a7ac-43c0-888d-b061af90b42b" />
<br>
<br>

- Power on the virtual machine.
<img width="223" height="493" alt="36eT6w4WfY" src="https://github.com/user-attachments/assets/d5a2732f-3ecf-4b2e-b61b-bf89e0b53e9d" />
<br>
<br>

- Click *I Moved It* for the pop-up.
<img width="1752" height="960" alt="M7XDx6a8QH" src="https://github.com/user-attachments/assets/cc9d847d-bc38-4766-b8d4-5972350e975e" />
<br>
<br>

- Log into the machine using the provided username and password.
<img width="360" height="200" alt="JctLUuxWGd" src="https://github.com/user-attachments/assets/f3b1ac34-c294-4765-8914-797421d45810" />
<br>
<br>

***Note:*** *The username and password can also be found above the login prompt.*

- Check the machine's IP address by entering `ifconfig` at the command prompt, which ends with ($). Look for the inet address under the eth0 interface, which will show 10.0.0.11 as your IP address.
<img width="360" height="200" alt="cTB00i1QQt" src="https://github.com/user-attachments/assets/df03c5e3-c8d4-47c8-957b-36a00af432ef" />
<br>

- Power on the Kali Linux machine.

- Now, let's test the connection to the Kali Linux machine by entering the command: `ping 10.0.0.10`. Then, wait a couple of seconds before pressing *CTRL + c* to stop the ping. If the packets sent successfully reach the Kali Linux machine, then the two machines can communicate with each other.
<img width="360" height="200" alt="kNDcBnKyJB" src="https://github.com/user-attachments/assets/6e95410e-3543-4ed2-be61-b91635cd1882" />
<br>
<br>

***Note:*** *You can specify the number of packets to send, eliminating the need to manually stop the ping.*

- Execute the command:
```
ping -c 4 10.0.0.10
```
This command instructs the shell to stop pinging after sending 4 ICMP ECHO_REQUEST packets and receiving 4 ECHO_RESPONSE packets.
<img width="360" height="200" alt="13oGZkbDgm" src="https://github.com/user-attachments/assets/e57ab73c-6987-4c03-8662-e41156644f41" />
<br>
<br>

You can now shut down both the Kali Linux and Metasploitable machines.
<br>
<br>

- As we did before with the Kali Linux machine take a snapshot of this virtual machine.
<br>

- Reduce the memory for the virtual machine to 512 MB.
<img width="563" height="534" alt="t8CP4MBOV1" src="https://github.com/user-attachments/assets/031e522d-8acb-42a0-86ef-09030942682d" /> 

## Ubuntu Client
We will now be installing Ubuntu Desktop, which is a user-friendly, free, and open-source operating system.

### Setup
- Go to Ubuntu’s website <a href="https://ubuntu.com/download/desktop">here</a> and click *Download Ubuntu* to download the latest LTS version of Ubuntu desktop.
<img width="806" height="283" alt="e3FnTayPkS" src="https://github.com/user-attachments/assets/b1e62592-5f13-4fd0-8cc9-eeeeacf668a3" />
<br>
<br>

- Save the Ubuntu desktop file to the *SecLab > ISO* folder.
<img width="724" height="354" alt="0ITKUPgMnA" src="https://github.com/user-attachments/assets/e351d676-4065-45e2-bfc7-175d0368887f" />
<br>
<br>

- Back in VMware Workstation Pro in the upper left hand corner click *File > New Virtual Machine*.

- In the **New Virtual Machine** wizard, follow these steps:
  
    - Ensure that **Typical (Recommended)** is selected, then click *Next*.
    <img width="322" height="316" alt="3C42DClvy0" src="https://github.com/user-attachments/assets/500763b4-6b15-493e-9333-3d153aae8de5" />
    <br>
    <br>
  
    - Click *Browse* under the **Installer disk image file** section and select the Ubuntu desktop .iso file located in the *SecLab > ISO* folder, click *Open*, then click *Next*.
    <img width="322" height="316" alt="7HvPfvC5X4" src="https://github.com/user-attachments/assets/cfe80b28-2c14-4acb-a56b-63e475cd55e2" />
    <br>
    <br>
  
    - For the full name, enter "Ubuntu Client." Use "ubuntu" as the username and choose a simple password of your choice. Click *Next* to continue.
    <img width="322" height="316" alt="QaGJrd4iUx" src="https://github.com/user-attachments/assets/eaa27b16-5735-48bf-a9d1-8ab0d2b0dac3" />
    <br>
    <br>
    
    - Remove “64-bit” from the virtual machine name so that it simply reads "Ubuntu," then click *Next*.
    <img width="322" height="316" alt="M0TXUrL4bc" src="https://github.com/user-attachments/assets/a734425a-007d-47ac-8a5e-0e58e343fb4b" />
    <br>
    <br>
    
    - Change the maximum disk size to 100 GB and click *Next*.
    <img width="322" height="316" alt="j6wn831eF3" src="https://github.com/user-attachments/assets/554e9ee7-f31f-4bab-83b6-6fae7cb2e8b9" />
    <br>
    <br>

    - Review the settings, then click on *Customize Hardware*.
    <img width="478" height="466" alt="3tVFaENF6u" src="https://github.com/user-attachments/assets/45fabd2f-a62c-4304-9359-38449da4b8dc" />
    <br>
    <br>

- Adjust the memory to 8 GB and set the number of cores per processor to 2, then click *Close*.
<img width="559" height="522" alt="d1aaLFmZ1C" src="https://github.com/user-attachments/assets/802061bd-30a9-4867-ad7d-9af97ec4775b" />
<br>
<br>
<img width="559" height="522" alt="wsdFoIFt9x" src="https://github.com/user-attachments/assets/df44934d-d734-4b10-aa25-ca6e42309c19" />
<br>
<br>

- Review the settings once more, then click *Finish*.
<img width="470" height="467" alt="xx3N7nOGQf" src="https://github.com/user-attachments/assets/6f8dd156-80bf-420e-8d21-d5b4ddb7e4d0" />
<br>
<br>

- Power on the virtual machine. Once the screen prompts you to choose your language, select the following settings:
  
    - **Language:** English (or your preferred language) and click *Next*.
    <img width="640" height="400" alt="vmware_AxRy0mz8gh" src="https://github.com/user-attachments/assets/efbb5401-a3ec-43a4-863f-12e375bdcc54" />
    <br>
    <br>
    
    - **Accessibility:** Click *Next*.
    <img width="640" height="400" alt="55ZarqYpSD" src="https://github.com/user-attachments/assets/ca21c32e-7397-4e71-9414-7291b797592c" />
    <br>
    <br>
      
    - **Keyboard Layout:** English (or your preferred language) and click *Next*.
    <img width="640" height="400" alt="gdHnYHa6Iu" src="https://github.com/user-attachments/assets/0f1ddccd-7c39-4091-9454-f3bc9de67014" />
    <br>
    <br>
    
    - **Connect to the Internet:** Select *Use a wired connection* and click *Next*.
    <img width="640" height="400" alt="RH29U7CNw2" src="https://github.com/user-attachments/assets/b5490ed5-a527-41d6-83ca-3f0a971ad12c" />
    <br>
    <br>
    
    - **Updates:** Click *Skip*.
    <img width="640" height="400" alt="L3Ka2dIoCf" src="https://github.com/user-attachments/assets/d496dc89-d0e3-4568-80de-fcc0a5c053cc" />
    <br>
    <br>
    
    - **What do you want to do with Ubuntu:** Select *Install Ubuntu* and click *Next*.
    <img width="640" height="400" alt="L5u3Vrm4B0" src="https://github.com/user-attachments/assets/9a7001d2-d162-496e-ba75-15c24f3a7d60" />
    <br>
    <br>

    - **How would you like to install Ubuntu:** Choose *Interactive Installation* and click *Next*.
    <img width="640" height="400" alt="mvCx9jrGxY" src="https://github.com/user-attachments/assets/889118ad-b540-4c0d-b0cf-04d3501381d5" />
    <br>
    <br>
    
    - **What apps would you like to install to start with:** Keep the default selection and click *Next*.
    <img width="640" height="400" alt="eVxP6S0i7F" src="https://github.com/user-attachments/assets/59fc66f6-c8d9-44ab-83c4-76924b767f5e" />
    <br>
    <br>
    
    - **Install Recommended Proprietary Software:** Leave this option blank and click *Next*.
    <img width="640" height="400" alt="t71F4xTRKA" src="https://github.com/user-attachments/assets/4945451b-83d6-410d-8969-f6737daa4b32" />
    <br>
    <br>
    
    - **How do you want to install Ubuntu:** Select *Erase disk and install Ubuntu* and click *Next.*
    <img width="640" height="400" alt="7222dd9s1l" src="https://github.com/user-attachments/assets/ca1978e2-3db1-4d1d-ac24-197dab6fe8d4" />
    <br>
    <br>

- Create an account by following these steps:
  
    - **Enter your name:** Ubuntu Client
      
    - **Provide your computer's name:** Ubuntu
      
    - **Set your username:** ubuntu-client
      
    - **Choose a simple password of your choice:** ******
      
    - Ensure that the option to **Require my password to log in** is selected and click *Next*.
    <img width="640" height="400" alt="od3gL1VAty" src="https://github.com/user-attachments/assets/5021f565-3ddf-4fdb-9240-7ad59447e37d" />
    <br>
    <br>

    - Select your time zone, then click *Next*.
    <img width="640" height="400" alt="y98KddGsRC" src="https://github.com/user-attachments/assets/661941e7-de01-4766-816e-aaec455d12ca" />
    <br>
    <br>
    
    - Review your choices (if desired), then click *Install*.
    <img width="640" height="400" alt="jcVvqPK6Gt" src="https://github.com/user-attachments/assets/acb99aa1-36de-452d-b6f2-e56ff1487555" />
    <br>
    <br>

    - Once Ubuntu is installed and ready to use click *Restart now*.
    <img width="640" height="400" alt="VBNkctRAAq" src="https://github.com/user-attachments/assets/5ff91bb3-1277-46ce-9a53-3ad9b2a39904" />
    <br>
    <br>

- After the machine has restarted you will arrive at the login screen for the Ubuntu Client. Select the Ubuntu Client user and login with the password you created.
<img width="640" height="400" alt="vmware_duwRTRSKRk" src="https://github.com/user-attachments/assets/a9443c9e-f103-4a6a-8e82-cffdb30ee744" />
<br>
<br>
<img width="640" height="400" alt="vmware_xom9MQWT5b" src="https://github.com/user-attachments/assets/7703f92d-1967-41eb-a010-6d81a40eff9a" />
<br>
<br>

- Click *Next* and *Finish* on all pages of the **Welcome to Ubuntu** dialog to close the window.
<img width="640" height="400" alt="vmware_1zyB0ZnTS3" src="https://github.com/user-attachments/assets/b14dfebe-1109-4b52-bb69-ae52e3526997" />
<br>
<br>
<img width="640" height="400" alt="vmware_mV5aulfeVO" src="https://github.com/user-attachments/assets/689de22f-58c9-4772-bbfc-6698368dda11" />
<br>
<br>
<img width="640" height="400" alt="vmware_jzWGazQvr5" src="https://github.com/user-attachments/assets/f6ee02ae-cd5d-478f-a0a5-9147381c236d" />
<br>
<br>
<img width="640" height="400" alt="vmware_FS3JhGHcez" src="https://github.com/user-attachments/assets/ec2928b7-bf9c-462c-8ddb-58d79b897541" />
<br>
<br>

- Right-click the desktop and select *Terminal*. Then, right-click the Terminal window and choose *Pin to Dash*.
<img width="657" height="423" alt="7JqZVJwZgU" src="https://github.com/user-attachments/assets/40ce4f06-e15d-42c4-922b-1b027058044d" />
<br>
<br>

- Enter the command `ip a` into the command prompt. We can see for the second interface under **inet** that the DHCP server has assigned this workstation an IP address of 10.0.0.12 and a subnet mask of /24.
<img width="506" height="174" alt="PZYgg97gdJ" src="https://github.com/user-attachments/assets/11252698-e922-4529-b02f-5238ee143657" />
<br>
<br>

We used `ip a` instead of `ifconfig` because `ifconfig` is not natively installed.

- To install the ifconfig tool type `sudo apt install net-tools`. Elevated privileges are required to install software, which is why we prefix the command with sudo.
<img width="465" height="24" alt="GXmECXHmQx" src="https://github.com/user-attachments/assets/4ff4cb8a-e07a-45f3-b6cf-d0ad2282a80a" />
<br>
<br>

- Now run the `ifconfig` command.
<img width="384" height="207" alt="P8X3oPTMr4" src="https://github.com/user-attachments/assets/48238a5d-28cb-4289-a35e-03c631b7300b" />
<br>
<br>

- As with the previous machines, ping Google to ensure you have internet connectivity: `ping -c 4 8.8.8.8`.
<img width="330" height="126" alt="jwcyaE0Qon" src="https://github.com/user-attachments/assets/b3eb269c-0949-4824-9d42-0bf754b8a724" />
<br>
<br>

- To complete the update process, use the following commands: `sudo apt update` to refresh the package list, followed by `sudo apt upgrade -y` to upgrade the installed packages automatically.
<img width="399" height="19" alt="fvTfk9hZ9T" src="https://github.com/user-attachments/assets/b5701e3a-55aa-44a1-bb3c-f093edcccc78" />
<br>
<br>
<img width="415" height="25" alt="GPzbIAV6vj" src="https://github.com/user-attachments/assets/7fea5d6f-17d4-4303-ac76-46a3ff2c1b96" />
<br>
<br>

- Rename the machine to "Ubuntu Client" within VMware workstation Pro's library. Then, move the Ubuntu machine into the **SecLabs** folder in the library pane.
<img width="393" height="185" alt="XmMPyhjvvW" src="https://github.com/user-attachments/assets/4aef3821-6b7f-41e5-b596-543fcc44a345" />
<br>
<br>

- You can now shut down the Ubuntu Client machine.

- As we have previously done, take a snapshot of the virtual machine.

- For the Ubuntu Client, reconfigure the following: set the memory to 4 GB, set the number of processors to 1, set the number of cores per processor to 1.
<img width="563" height="534" alt="RdILfdz2z8" src="https://github.com/user-attachments/assets/2b059c8d-6385-4984-9be9-f90dda7d50a4" />
<br>
<br>
<img width="563" height="534" alt="zUP6gtHTYE" src="https://github.com/user-attachments/assets/28a980a7-bd8b-4342-9d11-b722fef172ad" />

## Ubuntu Server/Wazuh
The next virtual machine we will be working on is Ubuntu Server with Wazuh. Ubuntu Server is a specialized version of the Ubuntu operating system designed for server use. Wazuh is a free and open-source security platform used for various purposes, including threat detection, security monitoring, and compliance. It offers capabilities such as log analysis, intrusion detection, and vulnerability detection.

We will first install Ubuntu Server and then proceed to install Wazuh.

### Server Setup
- Go back to the tab where you have the Ubuntu Desktop download open and click *Download Ubuntu > Server > Get Ubuntu Server*.
<img width="715" height="389" alt="vb5rVDqnGU" src="https://github.com/user-attachments/assets/787c7830-637d-4e06-8b8a-45026cfd8b78" />
<br>
<br>

- Scroll down to the **Alternative Downloads** section and download the 20.04.6 LTS version.
<img width="744" height="265" alt="UMId5NGUom" src="https://github.com/user-attachments/assets/8d80b923-44c9-43ed-923a-deac9c194476" />
<br>
<br>

- Save the file to the *SecLab > ISO* folder.
<img width="724" height="354" alt="lKT1kfv8RZ" src="https://github.com/user-attachments/assets/375b8b65-a02a-4fcb-b403-1d6aebc6f099" />
<br>
<br>

- Go back to VMware Workstation Pro, click on *File*, and select **New Virtual Machine**.

- In the **New Virtual Machine Wizard**, follow these steps: 
    - Ensure that *Typical (Recommended)* is selected, then click *Next*.
  <img width="322" height="316" alt="YrXPRZzB8K" src="https://github.com/user-attachments/assets/361973aa-7af6-46bc-a42b-7a5fe85e5d0e" />
  <br>
  <br>
  
    - Click *Browse* under the **Installer disk image file** section, and select the Ubuntu live server .iso file located in the *SecLab > ISO* folder. Click *Open*, then *Next*.
  <img width="322" height="316" alt="EIKZMOqRdn" src="https://github.com/user-attachments/assets/3e2b081d-7f3d-44e7-9909-02cb8778d8b8" />
  <br>
  <br>
  
    - Enter "Wazuh" as the virtual machine name and click *Next*.
  <img width="322" height="316" alt="0eklQ8Dar6" src="https://github.com/user-attachments/assets/e298f61b-a12d-4a8c-8ae0-8f2b7d42ac4b" />
  <br>
  <br>
      
    - Change the maximum disk size to 200 GB, and click *Next*.
  <img width="322" height="316" alt="0QvGGGSVKF" src="https://github.com/user-attachments/assets/12402ebe-658b-4314-8b17-1582ab6b38b4" />
  <br>
  <br>

- Review the settings, then click on *Customize Hardware*.
<img width="322" height="316" alt="ELMRTCBVjS" src="https://github.com/user-attachments/assets/00111665-81ce-4f69-ab89-bab59dffc1bd" />
<br>
<br>

- Change the memory to 16 GB and the number of cores per processor to 2 cores, then click *Close*.
<img width="559" height="522" alt="BabGLoPCgc" src="https://github.com/user-attachments/assets/70ba8d4b-5fd3-4339-b9f3-92069875cd20" />
<br>
<br>

- Review the settings once more, taking into account the new additions, then click *Finish*.
<img width="322" height="316" alt="gfxkM1mZlL" src="https://github.com/user-attachments/assets/730bc425-17ce-4f34-b34f-eb7977714e27" />
<br>
<br>

- Power on the virtual machine. Click *OK* for any pop-up messages that may appear.
<img width="222" height="364" alt="74CNTpq5Oq" src="https://github.com/user-attachments/assets/6c7d7ee9-1b8a-435c-9300-9c56b5100985" />
<br>
<br>

You will now need to use your keyboard to navigate.

- On the welcome screen, follow these steps:
    - **Select Language**: Choose *English* or your preferred language and press *Enter*.
    <img width="640" height="384" alt="vmware_AVdnKJ1yyL" src="https://github.com/user-attachments/assets/8a8c832e-cc7d-4d45-a649-4c8bb7c1501e" />
    <br>
    <br>
      
    - **Installer Update Available**: Press *Enter* to select *Continue without updating*.
    <img width="640" height="384" alt="vmware_eS75bLqvIw" src="https://github.com/user-attachments/assets/169e5ac3-aeeb-4d81-aa9c-ad78b56ce6bc" />
    <br>
    <br>

    - **Keyboard Configuration**: Press *Enter*.
    <img width="640" height="384" alt="vmware_Bi74h6fay7" src="https://github.com/user-attachments/assets/9a07bae4-399a-4e4a-b5ad-43a223181b8d" />
    <br>
    <br>
      
    - **Network Connection**: Press *Enter*.
    <img width="640" height="384" alt="vmware_82r27OsI73" src="https://github.com/user-attachments/assets/b39dd2a1-f42f-4c23-8a22-f3f1a675229f" />
    <br>
    <br>
  
    - **Configure Proxy Server**: Press *Enter.*
    <img width="640" height="384" alt="vmware_N2NjLFI4iX" src="https://github.com/user-attachments/assets/421e0496-f0e4-4cab-9324-fc123902e55f" />
    <br>
    <br>

    - **Configure Ubuntu Archive Mirror**: Press *Enter*.
    <img width="640" height="384" alt="vmware_F3knT7Ja5o" src="https://github.com/user-attachments/assets/64f0fdd9-b00a-4e38-ad04-e011f01cacc4" />
    <br>
    <br>
  
    - **Guided Storage Configuration**: Press *Tab* until you can select *Done*, then press *Enter.*
    <img width="640" height="384" alt="vmware_Ormtzyb9Ap" src="https://github.com/user-attachments/assets/2435d825-ca0f-4d8c-be24-533fd08a4f10" />
    <br>
    <br>
  
    - **Storage Configuration**: Ensure *Done* is highlighted, then press *Enter*. Next, press *Tab* to navigate to *Continue* and press *Enter*.
    <img width="640" height="384" alt="vmware_zOYKoLE0BJ" src="https://github.com/user-attachments/assets/fb3ce063-ac6a-437c-8f0e-05d11014de57" />
    <br>
    <br>
    <img width="640" height="384" alt="vmware_uBQTmvTBlf" src="https://github.com/user-attachments/assets/70dbe730-a938-4e7d-820b-48fbad908878" />
    <br>
    <br>

- For the profile setup, enter the following details:
    - **Your Name:** Wazuh Server
      
    — **Your Server's Name:** wazuh
  
    - **Username:** wazuh
      
    - **Password:** enter simple password.
  
  Press *Tab* to select *Done*, then press *Enter*.
<img width="640" height="384" alt="vmware_AuNqCoSIXG" src="https://github.com/user-attachments/assets/428dee7d-e5d1-4df5-b3a3-2ed3d5392f05" />
<br>
<br>

- On the **Install SSH** page, navigate down to *Done* using *Tab* and press *Enter*.
<img width="640" height="384" alt="vmware_XLCnqIUOyB" src="https://github.com/user-attachments/assets/fc96277e-847a-4fa5-91f2-1a7010d951d9" />
<br>
<br>

- On the **Featured server snaps** page tab down to *Done* and press *Enter*.
<img width="640" height="384" alt="vmware_yt8eOGUXuE" src="https://github.com/user-attachments/assets/56b3b392-1ae5-480d-a553-9738888eb19b" />
<br>
<br>

- Once the installation is complete, press the *Tab* key to navigate to *Reboot* and then press *Enter*.
<img width="640" height="384" alt="vmware_zKp7zXkRJm" src="https://github.com/user-attachments/assets/e452dcdc-16f8-41b3-9d93-aa7edb144a5c" />
<br>
<br>

- After the reboot is complete, press *Enter* to access the login page and enter your username and password.
<img width="400" height="300" alt="yfePtxqYNn" src="https://github.com/user-attachments/assets/b160e5f3-0b53-401c-864d-fcac29694a70" />
<br>
<br>

`ifconfig` is not natively installed on the Ubuntu Server, like it wasn’t on the Ubuntu Client we installed previously. Let’s install it now.

- Enter the command:

 ```
sudo apt install net-tools
```
Remember that elevated privileges are necessary for installations, which is why we use `sudo`.
<img width="400" height="300" alt="K5KVTBfKQl" src="https://github.com/user-attachments/assets/82526f9d-f1af-4238-a68c-3308418518c2" />
<br>
<br>

- Type `ifconfig` into the command prompt and note the IP address, as you will need it to access the server shortly.
<img width="400" height="300" alt="BPIoizSmkf" src="https://github.com/user-attachments/assets/41221d3d-bf72-4777-bbb5-bf49fcd54fb9" />
<br>
<br>

- To complete the process, update the machine by using the following commands: `sudo apt update` and `sudo apt upgrade -y`.
<img width="400" height="300" alt="iU0lEiJZj4" src="https://github.com/user-attachments/assets/48879a74-d6c4-499d-a1c9-5342f1961a7b" />
<br>
<br>

- Move the Wazuh machine into the **SecLabs** folder in the library pane.
<img width="312" height="176" alt="7q9zpUn8ia" src="https://github.com/user-attachments/assets/852a67c9-5d45-4b9d-a39b-b4b401d66ddc" />
<br>

### Wazah Setup
- To download Wazuh from the Wazuh website, enter the following command into the command prompt:

```
curl -sO https://packages.wazuh.com/4.8/wazuh-install.sh
```
<img width="400" height="300" alt="kohXGXsKj5" src="https://github.com/user-attachments/assets/5560a13a-4f23-4962-8c0f-bfbe872868b7" />
<br>
<br>

- Enter the command `ls` into the command prompt to confirm that Wazuh has been installed in the current working directory.
<img width="400" height="300" alt="CF0l7h4ug6" src="https://github.com/user-attachments/assets/8bb68e7a-9b43-49f2-b0c6-7ddaa4b8ebfe" />
<br>
<br>

- To install Wazuh on the server, enter the following command:

```
sudo bash ./wazuh-installation.sh -a
``` 
<img width="400" height="300" alt="mNle0om5r5" src="https://github.com/user-attachments/assets/c8d61e16-1e6d-415a-a431-942b7af89bf0" />
<br>
<br>

This command will initiate the installation process.

After the installation is complete, you will receive a username and password. As you can see the password is both long and complex which is good for the real world but not so great for the sake of our labbing experience. We will need to download a tool that will allow us to change the password.

<img width="400" height="300" alt="vPHKLU7aT1" src="https://github.com/user-attachments/assets/8dea6f69-5a0a-4537-b8b2-fcbf0691f6eb" />
<br>
<br>

- To download the file, use the following command: 

```
curl -so wazuh-passwords-tool.sh https://packages.wazuh.com/4.8/wazuh-passwords-tool.sh
```
<img width="400" height="300" alt="cwk45lOS2t" src="https://github.com/user-attachments/assets/fe47699c-0420-41dd-9312-3b88501c720b" />
<br>
<br>

***Note:*** *The last command executed instructs the shell to download the Wazuh password tool from the web address provided.*

- Use the command `ls` to check if the tool has been downloaded to the current working directory.
<img width="400" height="300" alt="xuuyu6H4yK" src="https://github.com/user-attachments/assets/eb384a9d-97bd-42df-b818-fab880a5b30d" />
<br>
<br>

- To execute the script, run the following command:

```
sudo bash wazuh-passwords-tools.sh -u admin -p Secret3Pass4w*rd
``` 
<img width="400" height="300" alt="YQD2MtZq5y" src="https://github.com/user-attachments/assets/b9e118dc-b8c3-402c-af95-c1beafdb7e81" />
<br>
<br>

This command uses `sudo` to run the script with administrative privileges, specifying the username as "admin" and the password as "Secret3Pass4w*rd".

We changed the password due to its length. The original password was very long, which made it easier to enter incorrectly. To save time and simplify the process, we needed to change it.

Once the password has been updated, we need to update the Wazuh Manager as instructed.

- To restart the Wazuh manager, run the following command: 

```
sudo systemctl restart wazuh-manager
```
<img width="400" height="300" alt="EA8XjGITVJ" src="https://github.com/user-attachments/assets/d786e0c8-83e9-484d-a8b9-d44cbb4a2a81" />
<br>
<br>

- Let's check the status of the Wazuh Manager. Run the command:
 ```
sudo systemctl status wazuh-manager
```
<img width="400" height="300" alt="BGBYFIl5Cw" src="https://github.com/user-attachments/assets/7c50e40d-e59c-4804-8a8f-99c4a81f0db9" />
<br>
<br>

- The output should indicate that the Wazuh Manager service is both active and running.
<img width="400" height="300" alt="QIsKouXl0m" src="https://github.com/user-attachments/assets/69ffb990-e24d-4682-86a9-afb30b6dde70" />
<br>
<br>

- Press *q* to exit.

Now, let's attempt to access the Wazuh Manager from the Ubuntu client.

- Return to or power on the Ubuntu Client and log in if logged out.

- Launch the Firefox browser.

- To proceed, enter 10.0.0.13 (IP address of the Ububtu Server/Wazuh Manager) in the search bar. On the warning page, click the *Advanced* button, then select *Accept the Risk and Continue*.
<img width="1750" height="958" alt="77uCBFVagg" src="https://github.com/user-attachments/assets/b02e5559-786b-4f3d-86fa-90c45b93970f" />
<br>
<br>

- Log in using the admin username and the new password that we created.
<img width="1750" height="958" alt="vmware_flPu6L00lF" src="https://github.com/user-attachments/assets/692be7a7-1658-46ea-9f4e-8e5a618f1fcb" />
<br>
<br>

- ***Note:*** *If you cannot log in to the Wazuh manager, check if the service is running and restart it if necessary.*

- Click *Save* to store the password in your browser.
<img width="230" height="121" alt="vmware_A0k31GibdF" src="https://github.com/user-attachments/assets/78ecc81e-039e-4cd9-9450-296929db313c" />
<br>
<br>

***Note:*** *This practice should never be conducted in real-life scenarios, as an attacker could easily access all of your stored passwords if your system is compromised. However, doing this in our lab environment is acceptable, as it simplifies certain processes for us.*

Next, we need to install the Wazuh agent on the Ubuntu client.

- Click the *Add Agent* link.
<img width="1917" height="958" alt="qjnuhMvsDB" src="https://github.com/user-attachments/assets/ddb27ad2-c829-46a7-b3ee-6dd210a232e0" />
<br>
<br>

- On the **Deploy New Agent** page, select the following:
    - *Select the package to download and install on your system*: *Linux DEB amd64*.
    - The server address should already be populated (10.0.0.13), if not enter the Ubuntu Server's IP address.
    - In *Optional Settings*, assign an agent name: "Ubuntu"
    <img width="489" height="610" alt="u2OuBVNWd2" src="https://github.com/user-attachments/assets/d5e47e58-f599-433a-bdc0-bf58e40f9aab" />
    <br>
    <br>

- You are now provided with command to download and install the agent, copy it and run it in the Ubuntu Client terminal's shell.
<img width="581" height="232" alt="Dmy234zvxU" src="https://github.com/user-attachments/assets/010631c4-e0ae-4a38-bafb-eb69eb7d68b1" />
<br>
<br>
<img width="408" height="290" alt="vmware_nPcSdodzuG" src="https://github.com/user-attachments/assets/69175d25-5e3b-4418-81a3-364ccb455592" />
<br>
<br>

- Enter the password for the Ubuntu client when prompted.
<img width="406" height="293" alt="6lJtXS1TWj" src="https://github.com/user-attachments/assets/7c76270c-8903-48f6-873f-bfa17008c479" />
<br>
<br>

- After installing the agent, return to Firefox and copy the final command to start the agent.
<img width="583" height="201" alt="ZwA4h2OqaW" src="https://github.com/user-attachments/assets/2d9030bd-829a-4c03-80c4-25978e9cf328" />
<br>
<br>

- Execute the command in the terminal shell.
<img width="408" height="291" alt="Dr0hdLyOob" src="https://github.com/user-attachments/assets/65ae0f54-c213-49a1-9ed8-3f4ec4ee594d" />
<br>
<br>

The command will reload the daemon, enable the agent, and start it.

- Check the status of the Wazuh agent to ensure it is enabled, active, and running by executing the command:

```
systemctl status wazuh-agent
```
<img width="598" height="280" alt="tKp5g62lxz" src="https://github.com/user-attachments/assets/047da4ac-eb1c-4d2b-a33f-3aba00d7ffb8" />
<br>
<br>

- Go back to Firefox and click on *Close*.
<img width="583" height="201" alt="XxAlkz02HU" src="https://github.com/user-attachments/assets/9bcabef2-e93b-4a53-8a0f-ed2af5d119c7" />
<br>
<br>

- You should now see that one agent is currently active.
<img width="1884" height="384" alt="MncDAZZqQp" src="https://github.com/user-attachments/assets/977ff9ac-ebf7-4ebf-a9a6-79950690807d" />
<br>
<br>

You can also click on the W to access the Wazuh dashboard, which is another place to verify that the agent has been installed.

<img width="245" height="218" alt="bGu4mnvy5l" src="https://github.com/user-attachments/assets/0c676a60-16ec-4c80-88a2-a210109e0e21" />
<br>
<br>

- In the VMware Workstation Pro Library pane, change the machine's name to Wazuh Manager and move it into the SecLab folder.
<img width="312" height="185" alt="QcxeRrAf8Y" src="https://github.com/user-attachments/assets/88c02c07-4043-4461-b1db-4023a3e41c3f" />
<br>

- Turn off both the Ubuntu Client and the Wazuh Manager.

- Take a snapshot of the current state of the machine by right-clicking the library and navigating to *Snapshot > Take Snapshot*. Name the snapshot and add a description before clicking *Take Snapshot* to save.

-  For the Wazuh Manager, reconfigure the following: memory: 4 GB, number of cores per processor: 1
<img width="563" height="534" alt="TLJsUdPyGi" src="https://github.com/user-attachments/assets/f7edd298-336d-412b-8b12-744a4006c265" />
<br>
<br>
<img width="563" height="534" alt="nlH7Yreuz4" src="https://github.com/user-attachments/assets/b68fb077-3370-4ae6-9f4c-f98de98d33a6" />
<br>

## Security Onion
We will now install Security Onion, a free and open-source Linux distribution used by blue teamers for security monitoring, threat hunting, and log management.

### Setup
- On the main page of <a href="https://securityonionsolutions.com">Security Onion’s</a> website, click on *Software*, then the *Download* button.
<img width="647" height="257" alt="gj6QcJjkUw" src="https://github.com/user-attachments/assets/c00edcce-1c3c-4103-a5ce-efa729bc33a6" />
<br>
<br>

You will be taken to Security Onion's GitHub page to download the ISO file.

- Click on the first link to download the file and save it to the *SecLab > ISO folder*.
<img width="534" height="321" alt="SR0gC59SRa" src="https://github.com/user-attachments/assets/0fb8b3ce-e470-4c7b-a982-71e1f17e3f15" />
<br>
<br>
<img width="724" height="354" alt="j5nW0pIb6A" src="https://github.com/user-attachments/assets/917ab1d6-4424-4ec6-b76e-f249744638a7" />
<br>

- In VMware Workstation Pro, click on *File > New Virtual Machine* located in the upper left corner.

- In the New Virtual Machine Wizard follow these steps:
  
    - Ensure that **Typical (Recommended)** is selected. Click *Next*.
    <img width="322" height="316" alt="sJGd2Vl8md" src="https://github.com/user-attachments/assets/e121801c-95ce-4897-a81c-910e0a3e68eb" />
    <br>
    <br>
    
    - Click *Browse* under the **Installer disk image file** section and select the Security Onion .iso file located in the *SecLab > ISO* folder, then click *Open* and *Next*.
      
    <img width="322" height="316" alt="ApXrk8URd9" src="https://github.com/user-attachments/assets/8d175cd3-d89b-4dde-9b3d-7652b23aa5bd" />
    <br>
    <br>
    
    - Enter "SecOnion" for the virtual machine name and click *Next*.
    <img width="322" height="316" alt="6faSBNchP4" src="https://github.com/user-attachments/assets/5052b642-585a-4026-a27d-47f92591d790" />
    <br>
    <br>
    
    - Change the maximum disk size to 200 GB, select *Store virtual disk as a single file*, then click *Next*.
    <img width="322" height="316" alt="x0ZfYzb48Q" src="https://github.com/user-attachments/assets/e34b2d6b-197d-4d28-a0ce-3379a026ab60" />
    <br>
    <br>

- Review the current settings, if desired, then click *Customize Hardware* and select the following options:    
    - **Memory:** 32 GB
    <img width="322" height="316" alt="44SNKwJx6j" src="https://github.com/user-attachments/assets/2a8e0bc4-4c8f-465f-a588-19ffff9e183c" />
    <br>
    <br> 
    <img width="559" height="522" alt="bFcmLtO6Ux" src="https://github.com/user-attachments/assets/0bb3d4e5-4a92-4f2d-af33-f7f4a51689a3" />
    <br>
    <br>
     
    - **Number of cores per processor:** 2
    <img width="559" height="522" alt="jToKPiwM3P" src="https://github.com/user-attachments/assets/4bd746bd-6801-4954-8d73-23a21dc40a22" />
    <br>
    <br>
     
   - **Network Adapter:** Keep the NAT connection and add a host-only connection by clicking *Add > Network Adapter*, then click *Finish*. Select the second adapter, change its connection type to "host-only," and click *Close*.
    <img width="559" height="522" alt="K0B8x4HxMb" src="https://github.com/user-attachments/assets/cf2f13ad-f42a-4e1c-96b0-35b4f293f99c" />
    <br>
    <br>
     
    - Verify your settings again and click *Finish*.
    <img width="322" height="316" alt="3V0C0kBCh4" src="https://github.com/user-attachments/assets/c7577b58-79d9-443a-b5a9-8bd308fe0c11" />
    <br>
    <br>
     
***Note:*** *We will maintain the NAT connection to ensure that the Security Onion VM can communicate with other devices on the NAT network. This setup will enable us to manage Security Onion from one of these devices. Additionally, the host-only connection will allow Security Onion to communicate with the FLARE VM for monitoring purposes, such as handling logs.*

- Power on the virtual machine.
<img width="222" height="328" alt="UfYwYAoiRL" src="https://github.com/user-attachments/assets/37eb77fe-900f-43c8-a457-a0093a055079" />
<br>
<br>

***Note:*** *You will have to use the keyboard for the next part*.

- Choose the first installation type and press **Enter**.
<img width="508" height="381" alt="KpvYYiBLJD" src="https://github.com/user-attachments/assets/bbf0e9be-97d8-4c83-97d9-f5c0af2db9af" />
<br>
<br>

- After the initial installation has completed, you will see a warning asking if you wish to continue. Click at the blinking cursor, type “yes,” and press *Enter*.
<img width="640" height="400" alt="9Z2Ufntvuu" src="https://github.com/user-attachments/assets/653aa745-90e3-4888-a96d-92a7ef800de2" />
<br>
<br>

- For the administrative username enter “soc-admin” and press *Enter*.
<img width="640" height="400" alt="FlfNd4olTJ" src="https://github.com/user-attachments/assets/56ac8ad4-c847-4e2b-b96d-f18b23be1f8e" />
<br>
<br>

- Enter a password.
<img width="640" height="400" alt="CkahqamVL8" src="https://github.com/user-attachments/assets/68aa514d-2480-40e9-b77f-d8affcb81281" />
<br>
<br>

After the packages finish downloading, the system will prompt you to reboot and you will see a login screen.

- Log in using the username "soc-admin" along with your password, and then press *Enter*.
<img width="640" height="384" alt="9N9Xu7b9MS" src="https://github.com/user-attachments/assets/7529443b-b668-4dac-aa88-b657a3c1d02c" />
<br>
<br>

- On the Security Onion setup page do the following:
    - **Welcome to Security Onion Setup:** "Yes" should already be selected. Press *Enter* to continue.
    <img width="640" height="384" alt="vmware_Ij54ZzSuTL" src="https://github.com/user-attachments/assets/bffdd24b-c681-4b66-b958-0a791a5927b4" />
    <br>
    <br>
    
    - **Select an option:** The *Install* option should already be selected. Tab down to *Ok* and press *Enter*.
    <img width="640" height="384" alt="vmware_lZbAFtXNC8" src="https://github.com/user-attachments/assets/f5473db4-e729-4959-9ee3-61ac67efd4e1" />
    <br>
    <br>
    
    - **What kind of installtion would you like to do?:** Arrow down to *Eval*, press *Tab* to select *Ok*, then press *Enter*.
    <img width="640" height="384" alt="vmware_rBKXE7Pqn6" src="https://github.com/user-attachments/assets/45b863a3-d889-4fbd-833a-dfc5ac37416c" />
    <br>
    <br>
    
    - **Terms of use:** Type "Agree", then use the *Tab* key to select *OK*, then press *Enter*.
    <img width="640" height="384" alt="vmware_5biox2dm6K" src="https://github.com/user-attachments/assets/8312c174-6a4e-44aa-95f3-48b145f3dd8f" />
    <br>
    <br>
    
    - **How should this node be installed?:** *Standard* should already be selected. Press the *Tab* key to select *OK*, then press *Enter*.
    <img width="640" height="384" alt="vmware_oYbvKhTg0z" src="https://github.com/user-attachments/assets/7fa64621-6b62-4fd4-9d81-6f5def5e129d" />
    <br>
    <br>
    
    - **Enter the hostname (not FQDN) you would like to set:** Give the machine the hostname “soc”, then tab down to *Ok* and press *Enter*.
    <img width="640" height="384" alt="vmware_KGNcstfJf4" src="https://github.com/user-attachments/assets/8b6c8c27-1dda-4504-8941-dc8e56dc856b" />
    <br>
    <br>
    
    - **Please select the NIC you would like to use for management:** The first network adapter should be selected. Press the tab key until *Ok* is highlighted, then press *Enter*.
    <img width="640" height="384" alt="vmware_A2ArgTYfJ1" src="https://github.com/user-attachments/assets/40175b3e-1e3c-43fb-851b-d1937db902a9" />
    <br>
    <br>
    
    - **Choose how to setup your management interface.** "Static" should already be selected for the IP address. Tab down to *OK* and press *Enter*.
    <img width="640" height="384" alt="vmware_RqlAqQL2QO" src="https://github.com/user-attachments/assets/1ec8cd0f-c12a-4617-bb2b-2f6387b7e54b" />
    <br>
    <br>
    
    - **What IPv4 address would you like to assign to this Security Onion installation?:** For the IP address, input 10.0.0.101/24. Then, press *Tab* followed by *Enter*.
    <img width="640" height="384" alt="vmware_Wf65QbPMTr" src="https://github.com/user-attachments/assets/b028f559-57b3-45e4-91f4-8129977a50bd" />
    <br>
    <br>
    
    - **Enter your gateway's IPv4 address:** To enter the default gateway, type it in the empty field. The default gateway is 10.0.0.2. Once typed, press *Tab* and then press *Enter*.
    <img width="640" height="384" alt="vmware_Izd1GK4wV1" src="https://github.com/user-attachments/assets/42e1b4ee-eebc-42ec-af9b-b3ab80e4a6e9" />
    <br>
    <br>
    
    - **Enter your DNS servers seperated by commas:** Keep the preselected DNS servers as they are, then press *Tab* and select *OK*.
    <img width="640" height="384" alt="vmware_HL4UMvu0Xw" src="https://github.com/user-attachments/assets/ef43062b-02b4-4c5e-b84b-3c160a265ed4" />
    <br>
    <br>
    
    - **Enter your DNS search domain:** Leave the preselected DNS search domain. Press *Tab* to select *OK*, then press *Enter*.
    <img width="640" height="384" alt="vmware_vwKWPZLfac" src="https://github.com/user-attachments/assets/e755d44e-0ffd-4c1a-8340-69adce8fd5f1" />
    <br>
    <br>
    
    - **How would you like to connect to the Internet?:** Ensure that *Direct* is selected for Internet access. Press *Tab* to choose *Ok*, then press *Enter*.
    <img width="640" height="384" alt="vmware_ivhaj7PQ89" src="https://github.com/user-attachments/assets/e9f594b6-7142-4549-8e91-342f25727344" />
    <br>
    <br>
    
    - **Do you want to keep the default Docker IP range?:** Make sure that *Yes* is already selected to retain the Docker IP address range, then press *Enter*.
    <img width="640" height="384" alt="vmware_XCQkDz6756" src="https://github.com/user-attachments/assets/630541d2-be71-48b5-bdd7-db1009dfe3d3" />
    <br>
    <br>
    
    - **Please add Nics to the Monitor interface:** There will be only one NIC available for monitoring. Press the *Spacebar* to select it, then press *Tab* to choose *Ok*, and finally, press *Enter*.
    <img width="640" height="384" alt="vmware_a0VbQedl1A" src="https://github.com/user-attachments/assets/de91acfc-7303-4ef7-b9c9-2dcb1a3a26b7" />
    <br>
    <br>
    
    - **Please enter an email address to create an Administrator account:** Enter an email address, either real or fake, then press *Tab* to select *OK* and press *Enter*.
    <img width="640" height="384" alt="xFb5NYOnUa" src="https://github.com/user-attachments/assets/fa170a24-34ce-45c4-87b6-614f2e35ca47" />
    <br>
    <br>
    
    - **Enter a password:** Create a password for the email, press *Tab* to select OK and then press *Enter*.
    <img width="640" height="384" alt="vmware_7EtLojjgJt" src="https://github.com/user-attachments/assets/951483f6-6780-49a6-af16-be3f163f9184" />
    <br>
    <br>
    <img width="640" height="384" alt="vmware_YgjzeTN06G" src="https://github.com/user-attachments/assets/29ba5d04-b3a0-4edc-af1c-e9a4b7b01a38" />
    <br>
    <br>
    
    - **How would you like to access the web interface?:** *IP* should already be selected, press *Tab* to select OK and hit *Enter*.
    <img width="640" height="384" alt="vmware_9VdNIWGLMn" src="https://github.com/user-attachments/assets/335de061-3501-4fea-a089-2cc72794502e" />
    <br>
    <br>
    
    - **Do you want to allow access to this Security Onion installation via the web interface?:** *Yes* should already be selected, press *Tab* to select "OK" and then press *Enter*.
    <img width="640" height="384" alt="vmware_D0r8CvEyk5" src="https://github.com/user-attachments/assets/66d7b3f3-32e7-4a52-94ad-e877e2b7954d" />
    <br>
    <br>
    
    - **Enter a single IP address or IP range, in CDIR notion, to allow:** Enter the IP address range of 10.0.0.0/24, then press *Tab* to select OK and hit *Enter*.
    <img width="640" height="384" alt="vmware_9QPQzp2Uit" src="https://github.com/user-attachments/assets/f067329e-7d39-494b-891d-b775f03083b5" />
    <br>
    <br>
    
    - **Enable SOC telemetry:**  Keep the option *Yes* selected to send telemetry to Security Onion, then press *Enter*.
    <img width="640" height="384" alt="vmware_5juLaAmcVD" src="https://github.com/user-attachments/assets/b5c7b262-dc1c-40aa-b9ab-bb27c5c9bd7e" />
    <br>
    <br>
    
    - Review the summary for the configuration. Press *Tab* to select *OK* and then press *Enter*.
    <img width="640" height="384" alt="vmware_UMAP8fDLgq" src="https://github.com/user-attachments/assets/b6aeb6ac-c84e-4138-82fd-0871746ea83a" />
    <br>
    <br>

Wait for the system to reboot. 

- You have been provided with the URL for the web interface, your username, and a reminder to use the password you created to log in to your Security Onion instance. Press *Tab* to select *OK* and then press *Enter*.
<img width="640" height="384" alt="7Ngdc6IHUE" src="https://github.com/user-attachments/assets/c6413dad-a83a-40cf-a9d7-68cb0c15c0d0" />
<br>
<br>

- Type `clear` to clear the screen.

- Check Security Onions status. Enter the command:
```
sudo so-status
```
<img width="640" height="384" alt="lMCeeZrqPB" src="https://github.com/user-attachments/assets/f9b65d49-3cda-48e0-9aff-935cdf445ddc" />
<br>
<br>

- Enter in the password for soc-admin.
<img width="640" height="384" alt="twjDhKIkfd" src="https://github.com/user-attachments/assets/dfe021a6-bf88-4d97-9808-8bd5f0b264b7" />
<br>
<br>

- Ensure all Security Onion releated services are up and in a running state. Type `clear` in the terminal to clear the screen.
<img width="640" height="384" alt="vmware_k78RW7rksj" src="https://github.com/user-attachments/assets/390a959a-23a2-4305-b048-6ad58399b745" />
<br>
<br>

We will connect to the Security Onion web interface from the Kali Linux machine.

- Turn on the Kali Linux machine.

- Sign in.

- Open the terminal.

- Let's verify the connection to the Security Onion machine using the command:
```
ping -c 4 10.0.0.101
```
<img width="640" height="384" alt="rqPceRhbtx" src="https://github.com/user-attachments/assets/9db3ca30-0788-4b31-b7bd-3f5c056cae17" />
<br>
<br> 

- If no packets have been dropped, this verifies our ability to connect.

- Now let's return to our Security Onion instance and ping the Kali Linux machine by using the command:
```
ping -c 4 10.0.0.10
```
<img width="400" height="142" alt="nYLRzwIjnd" src="https://github.com/user-attachments/assets/bd2d2688-1bd1-4b5e-ae25-db2e0bd9811a" />
<br>
<br>

- If no packets have been dropped, this verifies our ability to reach the Kali Linux machine.

- Return to the Kali Linux instance and close the terminal. Next, open Firefox.

- Type the IP address of the Security Onion instance into the search bar and press *Enter*. You will be directed to a warning page. Click *Advanced*, then select *Accept the risk and continue*.
<img width="1750" height="958" alt="cPfgl2mE8T" src="https://github.com/user-attachments/assets/9d0f8c4a-98e0-4777-bc75-71b3b364dc1e" />
<br>
<br>

- You should now be on the Security Onion login page. Use the email and password you set up to log in.
<img width="1750" height="958" alt="aZ892EDqco" src="https://github.com/user-attachments/assets/a0cbda8c-f66a-4843-819e-7dc1b653a4f3" />
<br>
<br>

- You should be able to see the Overview page.
<img width="1750" height="958" alt="vmware_5b9Jz8acRw" src="https://github.com/user-attachments/assets/5270d0b0-3926-4511-9216-f4d5d27b090c" />
<br>
<br>

- Power down the virtual machine.

- Create a snapshot.

## FLARE VM
The last virtual machine we will be downloading for this lab is Flare VM. Flare VM is a free, open-source, Windows-based security distribution used to perform actions such as malware analysis, reverse engineering, and incident response. This machine will serve as our sandboxed enviroment. Flare VM will be installed on top of Windows 10.

### Setup
- Visit Microsoft's official Windows 10 <a href="https://www.microsoft.com/en-us/software-download/windows10">download</a> page to download Windows 10.

- Click on *Download Now* under the **Create Windows 10 installation media section**.
<img width="877" height="217" alt="gH4pK279Le" src="https://github.com/user-attachments/assets/f854709e-ace8-4c99-b984-6c835c795cdd" />
<br>
<br>

- Save the file to your **Downloads** folder, then double-click the file to open it.

- To create the Windows 10 installation media do the following:

    - **Applicable notices and license terms:** Click *Accept* to agree to the terms licensing agreement, then select *Create installation media* and click *Next*.
    <img width="502" height="435" alt="DQOz0dSH3c" src="https://github.com/user-attachments/assets/5ecd18be-4c00-4e95-b7bf-8e734f2f8d55" />
    <br>
    <br>

    - **What do you want to do?:** Choose *Create installation media* and click *Next*.
    <img width="502" height="435" alt="dKG7TTLSJf" src="https://github.com/user-attachments/assets/2093cbfb-70e8-44ff-99d3-fa7a62e9e976" />
    <br>
    <br>

    - **Select language, architecture, and edition:** Choose your preferred language if necessary and leave the other selection as is. Click *Next*.
    <img width="502" height="435" alt="R35JpmjQAb" src="https://github.com/user-attachments/assets/63717927-f4b1-419e-ac5e-da04fe66921b" />
    <br>
    <br>
 
    - **Choose which media to use:** Select ISO file, then click *Next*.
    <img width="502" height="435" alt="M5yKH37XDe" src="https://github.com/user-attachments/assets/e64f3eb2-8bf3-4048-acfc-01a406afcf06" />
    <br>
    <br>

    - When prompted, save the file in the *SecLabs > ISO* folder, then click *Next*.

- Open VMware Workstation Pro and select *Create a New Virtual Machine*.

- In the **New Virtual Machine Wizard**, follow these steps:

    - Ensure that **Typical (Recommended)** is selected, then click *Next*.
    <img width="322" height="316" alt="0kE7wdZ8yk" src="https://github.com/user-attachments/assets/92716d14-3701-4c7a-a3b6-589bf1a12881" />
    <br>
    <br>
    
    - Click *Browse* under the **Installer disk image file**, locate the Windows 10 .iso file in the SecLab > ISO folder, and click *Open*. Then click *Next*.
    <img width="322" height="316" alt="fAEk198KHU" src="https://github.com/user-attachments/assets/ae7c2a4f-e6b3-4364-b9b1-30628b275154" />
    <br>
    <br>
    <img width="769" height="384" alt="jqCO8WPPAe" src="https://github.com/user-attachments/assets/2112af77-2414-4602-b6c9-e98ed7bb6a3b" />
    <br>
    <br>
    <img width="322" height="316" alt="9HIeSa6cFY" src="https://github.com/user-attachments/assets/94b4c1de-95ca-44a9-9d40-269e283b7bed" />
    <br>
    <br>
    
    - Enter "Windows 10" as the virtual machine name, and click *Next*.
    <img width="322" height="316" alt="AYy63QsHdP" src="https://github.com/user-attachments/assets/e85659c9-d33e-42a8-9e52-50072dcdbf3c" />
    <br>
    <br>

    - Change the maximum disk size to 150 GB and click *Next*.
    <img width="322" height="316" alt="ZFkheXcme0" src="https://github.com/user-attachments/assets/1aa53f77-52e8-4698-9f6f-9261550e362a" />
    <br>
    <br>
 
    - Review the settings and then click on *Customize Hardware*.
    <img width="322" height="316" alt="qC8mt6dpXk" src="https://github.com/user-attachments/assets/f1204186-b642-4594-8f78-7de410d1130c" />
    <br>
    <br>
    
    - Adjust the following settings:
    set the memory to 16 GB, set the          cores per processor to 2, keep the        network adapter as NAT until FLARE VM     is installed; then it will be             switched to host-only. Click *Close*.
    <img width="559" height="522"alt="Cxk5KfPds1"src="https://github.com/user-attachments/assets/69897d5d-963e-41bc-990d-3826784186ff" />
    <br>
    <br>
    <img width="559" height="522" alt="28PdwT73re" src="https://github.com/user-attachments/assets/f7fef6fd-beb2-4f5d-a41d-51ca4680b397" />
    <br>
    <br>

    - Review the settings once more, including the new additions, then click *Finish*.
    <img width="322" height="316" alt="HtVHZ5oKhC" src="https://github.com/user-attachments/assets/1c00eb43-a31d-4fdd-a922-c400e4ef672e" />
    <br>
    <br>

- When Windows begins to boot up, press any key to start from the DVD drive.

- Follow these steps to setup Windows 10:

    - When you reach the Windows Setup main screen, click *Next*.
    <img width="512" height="384" alt="rFeVLtjhs9" src="https://github.com/user-attachments/assets/62968e63-13fa-4582-80cd-dd5e7b433a7c" />
    <br>
    <br>

    - On the next page click *Install Now*.
    <img width="512" height="384" alt="qjpPeTUrxu" src="https://github.com/user-attachments/assets/59fc53ff-afff-4453-9571-0353749dfccf" />
    <br>
    <br>
    
    - To activate Windows select *I don’t have a product key*.
    <img width="512" height="384" alt="RjLWo6ocSX" src="https://github.com/user-attachments/assets/653091fe-80af-421e-b867-c07871375d66" />
    <br>
    <br>
    
    - Choose the operating system you want to install by selecting *Windows 10 Pro*, then click *Next*.
    <img width="512" height="384" alt="blpOe5TxNH" src="https://github.com/user-attachments/assets/e4ce2a9d-011e-459e-a4b8-572b2df51b5f" />
    <br>
    <br>

    - Review and agree to the license terms by clicking *I agree*, then click *Next*.
    <img width="512" height="384" alt="KY6mQYhRxj" src="https://github.com/user-attachments/assets/741062d8-fc7d-46c4-8c5c-ec47b5b37ab4" />
    <br>
    <br>
    
    - When asked which type of installation you want, select *Custom Installation*, and then click *Next*.
    <img width="512" height="384" alt="woSCD9qGWQ" src="https://github.com/user-attachments/assets/1566cc2a-c687-4f38-a316-a45f57069aa4" />
    <br>
    <br>
    
    - Keep the pre-configured selection for where you want to install Windows and click *Next*.
    <img width="512" height="384" alt="j33jKoLXHL" src="https://github.com/user-attachments/assets/f33648c2-dd27-42dc-9e2e-309d93e7f322" />
    <br>
    <br>

Windows will begin the installation process.

<img width="512" height="384" alt="vmware_lAfAhJgVEX" src="https://github.com/user-attachments/assets/46d8942e-8d8e-4959-92db-72a3765e3a2b" />
<br>
<br>

- To set up Windows, follow these steps:

    - **Region:** Select *United States* (or your appropriate region) and click *Yes*.
    <img width="512" height="384" alt="iKTnNmR3PB" src="https://github.com/user-attachments/assets/0dddaafc-6b31-48d2-a92b-47aefc1a630d" />
    <br>
    <br>
  
    - **Keyboard Layout:** Choose *US* (or your preferred layout) and click *Yes*.
    <img width="512" height="384" alt="2tvhWS4UBB" src="https://github.com/user-attachments/assets/861a3b7d-e650-4b9b-88da-11049815a7ef" />
    <br>
    <br>
      
    - **Second Keyboard Layout:** Click *Skip*.
    <img width="512" height="384" alt="oyg83V5vAd" src="https://github.com/user-attachments/assets/bb6fa223-fc57-40e2-a562-a8723d301ea3" />
    <br>
    <br>
    
    - **How would you like to set up:** Select *Set up for personal use* and click *Next*.
    <img width="512" height="384" alt="DqcxXMMHH7" src="https://github.com/user-attachments/assets/bdac67f7-d70b-40c8-a5d8-7df9ea1b93e1" />
    <br>
    <br>

  
    - **Let’s add your account:** Click *Offline account*.
    <img width="512" height="384" alt="zmNZgVoxRb" src="https://github.com/user-attachments/assets/2eb56de9-a884-44f2-aab7-358d6d817de4" />
    <br>
    <br>
  
    - **Next screen:** Click *Limited experience*.
    <img width="512" height="384" alt="QS3co6DpdN" src="https://github.com/user-attachments/assets/ecd86dde-fbf1-4581-bb2e-432dd9cefaa4" />
    <br>
    <br>
  
    - **Who’s going to use this PC:** Type *Flare_vm* and click *Next.*
    <img width="512" height="384" alt="R5EnUMbUK5" src="https://github.com/user-attachments/assets/4be08b77-00c5-4999-b37c-fb2ad005097b" />
    <br>
    <br>
  
    - **Create a password:** Enter a password of your choice and click *Next*.
    <img width="512" height="384" alt="GUjbmOlqxu" src="https://github.com/user-attachments/assets/71c3f04b-038b-48d2-9be6-7a6857b2626b" />
    <br>
    <br>
    
    - **Confirm password:** Re-enter your password and click *Next*.
    <img width="512" height="384" alt="Y6gwhSrq8E" src="https://github.com/user-attachments/assets/caaeaafd-81e8-48a1-afbe-8547531fbd8e" />
    <br>
    <br>
  
    - **Security questions:** Choose three security questions and provide corresponding answers, then click *Next*.
    <img width="512" height="384" alt="jPO6g32eeq" src="https://github.com/user-attachments/assets/bc909f47-7b52-4cf1-8fa4-0cdc867284d6" />
    <br>
    <br>
  
    - **Always have access to recent browsing data:** Click *Not now*.
    <img width="512" height="384" alt="LMQh3NNzcU" src="https://github.com/user-attachments/assets/db298a0b-3773-49c9-b48c-1617ae35c5ff" />
    <br>
    <br>
  
    - **Choose privacy settings for your device:** Deselect all options and click *Accept*.
    <img width="512" height="384" alt="iO2GzJmJz4" src="https://github.com/user-attachments/assets/7277a783-582d-43e2-9fe8-53249cc28aaa" />
    <br>
    <br>
  
    - **Next screen:** Click *Skip*.
    <img width="512" height="384" alt="csPx1fHyGe" src="https://github.com/user-attachments/assets/2b525ca7-43d1-4ffc-99d2-260f9a14ed13" />
    <br>
    <br>
    
    - **Cortana:** Click *Not now*.
    <img width="512" height="384" alt="wgNvE9EECB" src="https://github.com/user-attachments/assets/6cc0313d-2065-4bb3-86b1-09c617a88ed3" />
    <br>
    <br>
  
- Once the Windows installation is complete, click on the Windows logo, type “cmd” into the search bar, and press *Enter*.
<img width="439" height="354" alt="hdVFQZRIB5" src="https://github.com/user-attachments/assets/d69ac292-8ed0-4aad-a660-152d390477f0" />
<br>
<br>

- Type `ipconfig` to check the IP address. It should be listed under "IPv4 Address" as 10.0.0.14.
<img width="277" height="104" alt="PYYEmUMSnZ" src="https://github.com/user-attachments/assets/990e6ba7-3f91-4c81-9caa-c20059a44e45" />
<br>
<br>

- Perform a ping test to Google to check for internet connectivity.
<img width="240" height="105" alt="TjjvV9ZdEl" src="https://github.com/user-attachments/assets/d7eeef5c-c4ea-4080-8b9e-9ed91dbaae79" />
<br>
<br>

We now need to disable the firewall.

- Right-click on the Windows logo and select *Settings*. Next, click on *Update & Security*.
<img width="699" height="961" alt="gsUXIMxZ3P" src="https://github.com/user-attachments/assets/11147d0f-5951-46fe-aad9-3c4849326d20" />
<br>
<br>

- Click *Pause Updates for 7 days*, then close the window.
<img width="600" height="471" alt="UxaNSnLtf0" src="https://github.com/user-attachments/assets/ed78b247-fba7-4de3-9be9-8d42c5bb31c1" />
<br>
<br>

- Type “Windows Security" in the search bar at the bottom of your screen and open the application.
<img width="440" height="346" alt="dVO3twmNxk" src="https://github.com/user-attachments/assets/81caec49-4fda-4ca5-8c9e-0869d93e6952" />
<br>
<br>

- Click on *Manage Settings* located under the *Virus & Threat Protection Settings*.
<img width="601" height="468" alt="TvMDMsMFwg" src="https://github.com/user-attachments/assets/62e6f998-6366-4685-841e-844da6a105e6" />
<br>
<br>
<img width="601" height="466" alt="zCF0r2tTJm" src="https://github.com/user-attachments/assets/1dcf42a4-0063-4a92-b96f-226827d50fcc" />
<br>
<br>

- Disable Real-time Protection and then click *Yes* on the pop-up window.
<img width="601" height="466" alt="ABbqqmZPLd" src="https://github.com/user-attachments/assets/01d3980b-da85-4e90-8dbe-228776821bef" />
<br>
<br>

- Now turn off *Cloud-delivered protection* and *Automatic sample submission*. Then close the window.
<img width="600" height="469" alt="vkU4HPIbHC" src="https://github.com/user-attachments/assets/c49af1c7-cd41-4de8-bcf9-ce1c252cc80c" />
<br>
<br>

We now need to permanently disable certain settings using Group Policy.

- Right-click on the Windows logo and select *Run*.
<img width="204" height="308" alt="rCclcdwjZs" src="https://github.com/user-attachments/assets/6e7d2e18-145b-4fa6-a99f-c209f2efc28b" />
<br>
<br>

- Type "gpedit.msc" and press *Enter*.
<img width="199" height="103" alt="Sg0H77T3Iz" src="https://github.com/user-attachments/assets/2da1ef23-e906-4b08-ba75-42214d75080f" />
<br>
<br>

- We are now in the Local Group Policy Editor. Let’s permanently disable Windows Update. Under **Computer Configuration**, expand *Administrative Templates > Windows Components > Windows Update* and open *Configure Automatic Updates* located in the right pane.
<img width="395" height="361" alt="YaS8xxtuJs" src="https://github.com/user-attachments/assets/b1c2efdb-d38a-4091-a7f5-9af6b5681ebd" />
<br>
<br>

- Click the *Disabled* satellite button, then click *Apply* followed by *OK*.
<img width="342" height="316" alt="KRbmmval2v" src="https://github.com/user-attachments/assets/74b35343-d50b-4785-b3a4-4df8b5347ed7" />
<br>
<br>

- Close the window.

Let’s permanently disable Windows real-time protection.

- Follow the same process as before to open the Group Policy Editor again.

- Expand **Computer Components**, then go to *Administrative Templates > Windows Components > Microsoft Defender Antivirus*, and open the option to *Turn Off Microsoft Defender Antivirus*.
<img width="375" height="257" alt="o0ch6BURM3" src="https://github.com/user-attachments/assets/428df0d3-1b05-4f17-9078-c4b8e98a8c32" />
<br>
<br>

- Click the *Enabled* satellite button, then click *Apply* and finally click *OK*.
<img width="345" height="318" alt="gRGey90oo3" src="https://github.com/user-attachments/assets/fb263b1a-4294-49a3-8b0f-0a881d9948b4" />
<br>
<br>

- Return to the main pane to disable Microsoft Defender Antivirus and open the Real-time Protection folder.
<img width="346" height="156" alt="WwSo38wjBf" src="https://github.com/user-attachments/assets/a41598c3-8185-4197-b704-af83bfa03902" />
<br>
<br>

- Open turn off Realtime protection, on the *Enabled* satellite button, then click *Apply* and *Ok*.
<img width="339" height="318" alt="Yqt4Q6sWV0" src="https://github.com/user-attachments/assets/dd3828b4-9d75-4b10-9e71-140a29407314" />
<br>
<br>

- Close the window.

Now we need to restart the machine.

- Right-click the Windows logo, then select *Shut down or sign out*, and choose *Restart*.
<img width="270" height="318" alt="LRNPx0TMx5" src="https://github.com/user-attachments/assets/a8eb3183-7a48-4002-b5ab-4d015ba9a5fc" />
<br>
<br>

- After the reboot, log in to the virtual machine.
<img width="341" height="352" alt="vmware_huBPcdlYTp" src="https://github.com/user-attachments/assets/ea01c80e-800d-44f3-8cee-9f4a84abf466" />
<br>
<br>

- Open Microsoft Edge.

- Go to Google and search "Flare VM".
<img width="423" height="359" alt="4ERrSCGGGA" src="https://github.com/user-attachments/assets/da341111-eba9-49ce-8258-2111a51ebfe7" />
<br>
<br>

- Click on the first link displayed.
<img width="406" height="99" alt="vmware_ZLf8Gk9HNY" src="https://github.com/user-attachments/assets/3361826f-8049-47be-9db9-aaf7dde1e3d8" />
<br>
<br>

- Scroll down to find the section on Flare VM installation.
<img width="449" height="284" alt="jcaV5aPepv" src="https://github.com/user-attachments/assets/0933c949-f95d-4d9b-8dac-6dc8d77133ab" />
<br>
<br>

- To open PowerShell, right-click the Windows logo and search for *PowerShell* in the search bar. Then, right-click on PowerShell and choose *Run as Administrator*.
<img width="433" height="355" alt="FzjmFfMZ1p" src="https://github.com/user-attachments/assets/e5daa49c-0984-4b6a-b803-18977d8a28cd" />
<br>
<br>

- When the pop-up appears click *Yes*.

Now we need to grab the file path for the Flare_vm user desktop.

- Open **File Explorer**, click on *This PC*, then double-click on the C drive. Open the following folders: *Users > Flare_vm > Desktop*.
<img width="565" height="321" alt="Wn3nl5ZrlL" src="https://github.com/user-attachments/assets/80a4c89e-ed9f-4dd1-a831-00d2f034ac64" />
<br>
<br>

- Copy the path for this directory, and then close the window.
<img width="564" height="321" alt="phJKW89SRw" src="https://github.com/user-attachments/assets/094ad815-35da-4644-8fdb-d3bd96ac23ad" />
<br>
<br>

- In PowerShell, type `cd`, then paste the path we copied and press *Enter*.
<img width="427" height="366" alt="klpgneTRTy" src="https://github.com/user-attachments/assets/c81c8461-a752-4c1b-bf58-fc6dc58e2983" />
<br>
<br>

Now that we are in the desktop directory for the Flare_vm user, let's download the Flare VM file.

- Go back to Microsoft Edge and copy the provided PowerShell script for installation.

- Copy the script, paste it into PowerShell, and then press *Enter* to execute it.
<img width="430" height="365" alt="nszKtNAYFP" src="https://github.com/user-attachments/assets/0cf34875-80fc-4de3-bd01-9a6a91503c18" />
<br>
<br>

- The file should now be downloaded. Minimize your open windows to view the desktop where you should see the Flare VM Installer.
<img width="78" height="141" alt="uXw6i1MSlz" src="https://github.com/user-attachments/assets/c8a181da-531b-4a80-9017-3a1bbbe02336" />
<br>
<br>

- Copy the unblock installation command from GitHub and paste it into PowerShell. Then press *Enter* to execute the command.
<img width="426" height="367" alt="irXS9PDhOo" src="https://github.com/user-attachments/assets/0413cda4-3fb7-4cd0-9f01-fcc02cc032af" />
<br>
<br>

- Copy the command that enables script execution from GitHub, paste it into PowerShell, then press *Enter* to run the command.
<img width="427" height="366" alt="nWzg7ByloR" src="https://github.com/user-attachments/assets/c3761eda-3d04-4520-a871-30ec05b6f44e" />
<br>
<br>

- Type `.\install.ps1` and press *Enter* to run the Flare_vm script located on the desktop.
<img width="427" height="369" alt="H9k0vHw8mC" src="https://github.com/user-attachments/assets/abfcc96a-bcdd-44d4-9714-abff5f40ecd3" />
<br>
<br>

- Respond with "yes" to the question about taking a snapshot of this VM, then press *Enter*.

- Enter the password for the virtual machine.

- During the Flare VM installation, a welcome window will appear. Click *Install* to accept the package installations.
<img width="507" height="441" alt="ATANFzjPRN" src="https://github.com/user-attachments/assets/47f0ce97-d11a-4f8a-858f-96705843d6b7" />
<br>
<br>

- After the installation is complete, a Notepad window will open, displaying information about the installed packages. Close the window.

- To exit the command prompt, press *Enter*.

- In the VMware Workstation Pro Library pane, rename the machine to "Flare VM" and move it into the **SecLab"** folder.
<img width="160" height="114" alt="vmware_BSRav2bcRc" src="https://github.com/user-attachments/assets/a03cc1da-776d-4823-be1f-7bad0a83abc8" />
<br>
<br>

- You can now turn off the machine.

- Finally, in the VMware Workstation Pro Library, click on the SecLab folder, then select the Flare VM machine and double-click on the Flare VM in the right pane.

Let's make some final adjustments to the Flare VM settings to lower resource usage, allowing us to run multiple machines simultaneously.

- Click to edit the virtual machine settings, then configure the following: Memory - 4 GB, number of cores per processors: 1.
<img width="563" height="534" alt="4wCngPY2Fo" src="https://github.com/user-attachments/assets/e0f70c8a-df07-44d6-b482-3ed5ca1b9212" />
<br>
<br>
<img width="563" height="534" alt="sDKo6g51jw" src="https://github.com/user-attachments/assets/70eae3da-3d9a-4592-82d6-139d538eab90" />
<br>
<br>

- Finally, change the Network Adapter setting from NAT to host-only to ensure the VM remains isolated.
<img width="563" height="534" alt="Ke4TngYHBE" src="https://github.com/user-attachments/assets/52ad6801-8c1a-4096-a39b-671725015989" />
<br>
<br>

- Click *Ok*.

## Concept Dive
The concept dive section aims to provide a more in-depth examination of topics that deserve closer scrutiny. This section will spotlight areas that would benefit from thorough research and knowledge checks, as these are concepts that every cybersecurity professional should understand.

### Virtual Machine Connection Types
Let’s take a moment to explore the different types of network connections available for virtual machines. If you recall VMware Workstation Pro's Virtual Network Editor, we encountered three network connection types: bridged, host-only, and NAT (Network Address Translation).

**Bridged Mode -** When a virtual machine is using a bridged connection:
- The virtual machine obtains its IP address from the LAN router's DHCP server, allowing it to function as a separate physical machine on the network.
- The virtual machine is directly connected to the physical network, enabling it to communicate with other devices on the network and access the Internet.
- The host machine's network adapter serves as a bridge, enabling the virtual machine's network traffic to flow from the virtualized environment to the physical network and subsequently to the external network (Internet).
- Used when the VM requires full network access and is directly addressable from the physical network's subnet.

**NAT (Network Address Translation) Mode -** When a virtual machine is using a NAT connection:
- The virtual machine is assigned a unique IP address by the hypervisor's DHCP server.
- To access the external network, Network Address Translation (NAT) is used to convert the virtual machine's IP address to the public IP address of the host machine. The host machine's public IP address is recorded in the host's NAT table. This setup enables the host machine to function as a router.
- NAT conceals the VM's IP address. The VM uses the host's public IP address on the Internet, making it seem as though network traffic originates from the host machine rather than the virtual machine.

**Host-Only Mode -** When a virtual machine is using a host-only connection:
- The virtual machine is isolated which establishes a private connection with the host, thereby only allowing communication with the host and other virtual machines in host-only mode.
- A secure sandboxed environment is established for malware analysis and reverse engineering.
- The virtual machine cannot access the external network (Internet) because it is isolated. Thus, it has no network access.
  
Understanding these connection types can help you choose the best option for your specific virtual machine requirements.
